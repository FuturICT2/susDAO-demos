# Demos in the **Sustainable DAOs** lecture 2020

As shown live in Block IV of the [lecture](http://vvz.ethz.ch/Vorlesungsverzeichnis/lerneinheit.view?lang=en&lerneinheitId=142566&semkez=2020W&ansicht=KATALOGDATEN&).

## eth.build demo

[Link](https://sandbox.eth.build/wofCrGxhc3Rfbm9kZV9pZMONAWzEgcSDxIVsaW5rxIvEjQLCgcKlxIfEiXPDnAASworCosSMxI5fwqR0eXBlwrBEaXNwxIJ5L1RleHRBcmVhwqNwb3PCksSOfFDCpHNpemXFgQFAZMKlZsSCZ3PCgMKlb3LEiXIIwqRtxIhlAMKmxJVwdXRzwpHCg8KkbmFtZcKgxKjEqmXCpsSEcsSVZ8KkxJTElsONAnDCp2_FosWhxaPFpcWnxanFq8WtxKvFsHTFsm5nwqXFtmtzw4DCqnByb8SrcnRpZXPEm8aWdGxlwqjEtcS3xLnEu8KJxKTEjQFcxoRlwq_ErsSwxLIvQWRkxLpzc8S9xL_FgQLDmlrFhcWHxYnEjlRQxY7FkMWSxZTFlmVyCsWaxZzFnsWgxaLFpMWmxajFqsWsxKnEqwDFtcSVa8W4bcaQxpLGlMaWxpjCg8KrYmxvY2vGl1PGvTLCq8SxYWNlaG9sxZfCoMKlxpvGncKnxrDGssaYc8akxKUBXcapwqrGrMetxLNRUsa2xYDDjQRWRsa8xYjCksOMw4DDjMODx4JhxZHFk8WVxZcLx4rEiceMbsW-xaTChMaBx5LGqceWxozFuG7Gi2FiZWzDmSoweGYxNTM4YjYzY8itZWQzZGZkNjUwNWNhMTQ3ZWUxMjY4ZGEyNzFhOTPHnMaTx4fHn3PCgsKmcXLHqcWIxI4YxotpZ2h0w4LEo8e_YMapwqxXZWIzL0JhxIJux6_IicWBAxbEjgTIj2XCgsKhMMOMw5LCoTFCyJbImMeFxZcMyJ3FncWfyKDHjsKTx5DGgsKnYcaxxrNzxqnGhsaIxbTIqAJyypjFqsKsW8ejx6VrY2hhxJXIgceUxa_FscWzx5fFtwJzyqZlwqXKrWXHpsapw7_KtseZAnjFu8W9x47Ckcijx5Flwqdiyblhybtlyp9udW3IrXLJqMSWxaTFuHXIq8itbMqGyZvHnsaXyZ_Kmsqcx7zIsMiyyLTItsi4yLrIvMmNyL_JgcmDyYXJh8mJyYvJjcmPyZHJk8mVyZfJmcKoxpFvdsSMx4fDmT3Jq3RwczovL8aIa8m0eS7ElWZ1cmHMkm8vdsm2MzJmNGMyyZkzyKxkNGE3zKfItzPMqTdjY2YyZDcwMDPHvsamYcapwrBDb23Evm5lbsWjL0PKrsSVyb3Gv8a_yoPFisKQxY3Fj8iXx4TImseHx5bFm8iey4bMiMuIyrrHk8WuyqDFs8uZxo3CkcW4c8uiyZ3LpMKDx7ZpxpzKu82Gyq9uwq1zyK7KvnTIvlbJuXVlzIXMh8yJzIvMjceYzJDMkm7MlMyWzJjMmsyczJ7MoMyiM8ykYsymzKjMqjjMrMmLzK_MscyzzLUzwqV2zbfNucyGdMyIzIrMjMyOzoDMk8yVzJdpzJnMmy_MncyfzKHMo8ylzKfMqWHMq8ytzpTMssy0zLbJrsamxbTKssKuQ3LEqnTMmUXJu86_cHTNiQFYxI7DsM2Mw4zCtC3Kjc2Sx4ZyCcqSyJ_IocKSyrrGkHXHo2ljIMyPecqfyrTGicuCxbh7yrrCp8WqxrTIl8uSyrLNns-lyqN5zZjPmMq6wqZvYmrNs8qfz7jPumN0zaDGjsq6wqnNgmPPhc20ZM-jxofNn8aMy5sCes2lxpXLpMKAzrnEjsa7yrLCr86-z4DMmUtleSBQyq9yz4jChsOMw6bKg8qFMMOKQ1PCmcKayorKjM2Qyo7Nk3IHz5bKlM-1yKRlwq1bxpFpzprNtM-g0J7Ksc2dz6TKoseYxbhvyrrCqGfNgseHYc20y4DLgsOAz7TKlsq6x6zFstGAZdGCz6LPr9GG0IHNogJ-z5rFoc-dz5_PodCKyqHRoM-nz6nKm8e7xrTRqdCMx5hzwpPHmsipxbhy0JHJntCUxqXEjmnGqc690IfMmUTKvtCHzYkDfs-Lz43Pj8-RyJnPkw_Qt8eNxaPPmdC60ZjQv9GQ0ZvRqNGe0IvPsdGI0aLQg9CF0IfIvtGx0p3Kt33RlcW_0IPEidCGz4DSo8-vz73Ns9GrAn_RutCT0JUBZsiCScqVdMS0xLbPh8S-xYAO0orFhsiQxI4sMtKNyo_HhwHSkdK8x4_Qus2cx5XRk9Ko05DLi9OSyrPSnMaK0I3GuHnFuMKB0rXGmMKEx6LHpMemx6jHqsesxILHr8exx7PHh8KvzYLNtHIgzbTEtyBox4fKu8e3y5LGoNCAzppszbjCtNO3bMek07bIrtSEzbTEhCDJjzPSt2rSutK80r7Et82JBFDEjsO1zYzTh9OJ0LLPksWXEdOOyKHGgNOXyKbPptKz05XUocaC05jPsNOb0bPGj8yAy6PTotOkyqvTp8WIx6vHrdOrx7LFl9OvzYPHh9Oz0r_UhcS6zanNq8Kk07zOmc6b1IHUhm_UhdSD1YnUiHTUijLUjNG9AWvGqcKr0JrPhsyZSMSDaM-ITsW4Y82MeB7TitC0yoLNlsqT0pLTlsaCwqXSksapzbDTmizLlMuWx4fUpMKB1KbKusKkyq5zaNKk1KvLmtGhwoDTocWS0rds1a7IhMauV9GQyq3PiMOaxbhZ1JgDMTzVpM-TBtSfy4jLitSo1KPKo8WTxILLn8Kg1KbWmcilyrIA0IHDgMueyK7CoNaCxprNqsadwqXWiXTKrdK31bzKssKq0rvFvtSR04DGt8W4MMSOw7TUmAHTiNaUxZcN1pfSqdOR1pvSnnrVt9eI0pvRqtCN0aF91oLTo8qq06ZlyaRl1LXTqsew1LjTrtOw1LzTtNWO07fVgNO61YPSv9WF07_NucOkyLI4N86LMjDMqcynMGbIu2Q1yL_JjMyeyZnJl2E2MTk4ZTAyNTXMoMi1yYIwYmPYgMuvZMevNNiKMDhjyYPJkDDLuWE42Itj179lyLtiYjLYoGE1y70yMWVmyYw1OMi02Kxj2IQ3OTJiNNipNWbYlMmIMTA5ZjnJjMyzYc6X2IvJlTNiyYdi2IA4NmXJjNiVxrHYjte0yYI5OdiAyZhjM9e02YVj2YA0M8mRNDDJtGHKm8yo2KZm2LI5NtewNMq-M9mQ2aTJjDFjN9mB2a3JhzE22avXvsmD2YzZrc6L0rdexqnQmdKCL03NgcWbbs-eyb3DjMKW0InThcqEyobQqzpmZtCw14PHhwXXhtG0z5pbbdqLb9qNY9GExoXRhtGTz6lbxJXEiXjap8Wv1bLLl9qq0LrRjNGOzJbRkcqyy4HKo3HTldKUy4vSltGa0ZzVvdKy0YratdqiZdqMz57bhNeQxbhw1qvVrG7argDSt1vJsda3xaLJt8Wiz4Fuyb0ew4zDnM-Nw4jUmseD0o7FlwLantSn1qPFrtq7x5jRlMW8zZnSk82by4DSsnHbs8682rLHhyxib8eyxLvIqtCN1K3Hnc2mx6DXqM24wqhjxJTHpiDFqtWBxp3CpkLbm9qkyrzFvM2DCtK3z67FrsKs25jSvU7LlcuX1JPNjc-Nwr7bpM2R26bHhxDbqdu3xa7Ip9Ked9eM1KLPr9u5y5jcgdaCx6HUttec061ywqEj3I7Fr9ye1bPLmNO-zbjblNWS1aDKssKsVcaWbHPEtNWJybNp1JMGxI5A0KjKhsOMwqrKihram3IO3KrQutuRxb7Lk9yf1bTKo3XcsMaCz7fLh3Tdo92B0rJ31qvCqNKraW3JuXPEotWSYtuX1JDckc6e2qTShwzEjsKG26LcpdCzz5MD3Z_csdus05TbsNC53orEq8O_0rJ43KvEq8Ku3LPbu9u9xp3LkNam3Lbchsae3InPnmvcjNO51q3Fr92925zclHXNgwPQgcSgEsKW0bYBWgLEjlwAAN6wAm7Qlt60yIDet965b8SOXgDQlsWe0YbeuXDfggHEpt-G05reuXHEjlvfhAFeAsO_3rly3rzEjmDfjcqh3rlzxI5h35NgAdSq3rl135vfk2PFntyz3rl3xI7fq8SOxZ3euMW4eMSOYt-j35beudOe0rjfk2ffpd-Hxbh6xI7fv8SOaN6_z6fQlt-LAWffncWz3rl94KCG35Np4KCA347FuNKJ3rLgoJPgoI7Gid65f9G-35Nq4KCIAsKAxI5r35Ns4KCiwoHEjmbfk-CgptWvyqHVsd2kcsKmZ8aSdcyJwpDCpmPapGbJqcKAwqd2x4fFhtqkw4s_w5nCmeChiOChiMKa) to the [eth.build](https://eth.build/) demo setup. Also saved as `.webloc` in this repo.

## Deployment demo

Note that the HTML-setup is not recommended as a boilerplate to start coding from, it was merely intended as "shortest path" to wiring up something functional in the browser during the live demo.

For a proper dApp setup you might look into boilerplates like the [truffle react box](https://www.trufflesuite.com/boxes/react), [scaffold-eth](https://github.com/austintgriffith/scaffold-eth) or [create-eth-app](https://github.com/PaulRBerg/create-eth-app). There are also many tutorials out there to help you get going. The [pet shop one](https://www.trufflesuite.com/tutorials/pet-shop) was helpful to [me](https://github.com/benjaminaaron) back then - it seems a bit old now though.

### Setup

```sh
# Node.js 10.0.0
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
source ~/.bashrc
nvm install 10.0.0
nvm use 10.0.0

# Truffle
npm install -g truffle

# Ganache
# install from trufflesuite.com/ganache
```

### Deploying the smart contract

```sh
truffle compile # creates DemoContract.json in the build/contracts/ folder
truffle migrate # deploys the smart contract onto the blockchain
```

### Interacting with it via command line

```sh
truffle console
> DemoContract.deployed().then(inst => inst.foo())
> DemoContract.deployed().then(inst => inst.setFoo(7))
```

### Interacting with it via browser

```sh
python3 -m http.server # quickest way to serve from current directory
# --> http://localhost:8000/
```

Create `contract-address.js` with the address of the deployed DemoContract:
```js
let contractAddress = '0x...';
```

## Commit-walker script

I wrote the `commit-walker.sh` script to advance in the git history commit by commit during the live demo. Starting from the past on a new branch and cherry-picking one by one from `main` towards the latest. It uses `stepcounter` to read/write the next step and `git.log` to extract the respective commit hash. The command to list the hashes is:

```sh
git log --reverse --pretty=tformat:%h > git.log
```
